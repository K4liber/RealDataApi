{"basePath": "/", "consumes": ["application/json"], "definitions": {"DeviceToTimestamp": {"properties": {"device_id": {"example": "85471171", "type": "string"}, "timestamp_from": {"example": "2022/04/26 19:35:10", "type": "string"}, "timestamp_to": {"example": "2022/04/26 19:35:10", "type": "string"}}, "type": "object"}, "Localization": {"properties": {"lat": {"example": 52.01, "type": "number"}, "lon": {"example": 26.19, "type": "number"}, "timestamp_str": {"example": "2022/04/26 19:35:10", "type": "string"}}, "type": "object"}}, "host": "worldcitizen.link", "info": {"description": "API for the World Citizen project", "title": "World Citizen API", "version": "1.0"}, "paths": {"/get_devices_timestamps_range": {"get": {"operationId": "get_devices_timestamps_range", "responses": {"200": {"description": "Success", "schema": {"items": {"$ref": "#/definitions/DeviceToTimestamp"}, "type": "array"}}}, "tags": ["default"]}, "parameters": [{"description": "Start of the device`s ID (optional)", "in": "query", "name": "id_starts_with", "type": "string"}]}, "/get_localization": {"get": {"operationId": "get_get_localization", "responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Localization"}}, "400": {"description": "Missing \"device_id\" parameter"}}, "tags": ["default"]}, "parameters": [{"description": "ID of the device", "in": "query", "name": "device_id", "type": "string"}]}, "/get_localizations": {"get": {"operationId": "get_localizations", "responses": {"200": {"description": "Success", "schema": {"items": {"$ref": "#/definitions/Localization"}, "type": "array"}}}, "tags": ["default"]}, "parameters": [{"description": "ID of the device", "in": "query", "name": "device_id", "type": "string"}, {"description": "Starting timestamp for localizations of the device. Format=2022-04-26-19-35-10", "in": "query", "name": "from", "type": "string"}, {"description": "Ending timestamp for localizations of the device. Format=2022-04-26-19-35-10", "in": "query", "name": "to", "type": "string"}]}, "/get_view_history": {"get": {"operationId": "get_get_view_history", "responses": {"200": {"description": "Success", "schema": {"items": {"example": "2021-10-14-02-00-00", "type": "string"}, "type": "array"}}, "400": {"description": "Missing \"device_id\" parameter"}}, "tags": ["default"]}, "parameters": [{"description": "ID of the device", "in": "query", "name": "device_id", "type": "string"}]}, "/location": {"post": {"consumes": ["application/x-www-form-urlencoded", "multipart/form-data"], "description": "Save location data to the database.", "operationId": "post_location", "parameters": [{"in": "formData", "name": "latitude", "required": true, "type": "number"}, {"in": "formData", "name": "longitude", "required": true, "type": "number"}, {"in": "formData", "name": "altitude", "required": true, "type": "number"}, {"in": "formData", "name": "device_id", "required": true, "type": "string"}, {"in": "formData", "name": "secret_key", "required": true, "type": "string"}], "responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Localization"}}, "401": {"description": "Wrong secret key"}}, "tags": ["default"]}}, "/view": {"get": {"description": "Return the most current view of the device", "operationId": "get_view", "parameters": [{"description": "ID of the device", "in": "query", "name": "device_id", "required": true, "type": "string"}, {"description": "Get the view took just before the timestamp. Format=2022-04-26-19-35-10", "in": "query", "name": "timestamp", "type": "string"}], "produces": ["image/jpeg"], "responses": {"200": {"description": "Success"}, "400": {"description": "Invalid values"}}, "tags": ["default"]}, "post": {"consumes": ["multipart/form-data"], "description": "Save image to the database.", "operationId": "post_view", "parameters": [{"in": "formData", "name": "device_id", "required": true, "type": "string"}, {"in": "formData", "name": "secret_key", "required": true, "type": "string"}, {"in": "formData", "name": "file", "required": true, "type": "file"}], "responses": {"200": {"description": "Success"}, "400": {"description": "Invalid values"}}, "tags": ["default"]}}}, "produces": ["application/json"], "responses": {"MaskError": {"description": "When any error occurs on mask"}, "ParseError": {"description": "When a mask can't be parsed"}}, "swagger": "2.0", "tags": [{"description": "Default namespace", "name": "default"}]}